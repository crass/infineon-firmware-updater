<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>TPMFactoryUpd: Source/Common/ConsoleIO/Linux/ConsoleIO.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="IFXStyleSheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table width="100%" cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo" style="vertical-align: middle"><img alt="Logo" src="infineon_large.png" style="padding: 5%;" /></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">TPMFactoryUpd
   &#160;<span id="projectnumber">01.01.2529.00</span>
   </div>
   <div id="projectbrief">A factory tool for updating the firmware of an Infineon Technologies TPM</div>
  </td>
  <td style="vertical-align:top; text-align: right; padding-right: 0.2em"><font color="#E20036"><b>Restricted</b></font></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_74389ed8173ad57b461b9d623a1f3867.html">Source</a></li><li class="navelem"><a class="el" href="dir_573d75420a9527d403ae2af0f90fb3b6.html">Common</a></li><li class="navelem"><a class="el" href="dir_292dd1664259f42dd8af19e9c9758eaa.html">ConsoleIO</a></li><li class="navelem"><a class="el" href="dir_699b6397e0d90ddcc6716ca2e1725e8d.html">Linux</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ConsoleIO.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implements the ConsoleIO interface for Linux.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;sys/ioctl.h&gt;</code><br />
<code>#include &quot;<a class="el" href="_console_i_o_8h_source.html">ConsoleIO.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a71acea99f19b79e47c04a5edc9394851"><td class="memItemLeft" align="right" valign="top">_Check_return_ unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_console_i_o_8c.html#a71acea99f19b79e47c04a5edc9394851">ConsoleIO_ClearScreen</a> ()</td></tr>
<tr class="memdesc:a71acea99f19b79e47c04a5edc9394851"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the screen.  <a href="#a71acea99f19b79e47c04a5edc9394851">More...</a><br /></td></tr>
<tr class="separator:a71acea99f19b79e47c04a5edc9394851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab88a36496dc233b80e07f7da6877e1b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_console_i_o_8c.html#ab88a36496dc233b80e07f7da6877e1b3">ConsoleIO_InitConsole</a> (_In_ unsigned int PunMode)</td></tr>
<tr class="memdesc:ab88a36496dc233b80e07f7da6877e1b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the screen buffer dimensions.  <a href="#ab88a36496dc233b80e07f7da6877e1b3">More...</a><br /></td></tr>
<tr class="separator:ab88a36496dc233b80e07f7da6877e1b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a735c95bbd9568e4762637f74e768c9"><td class="memItemLeft" align="right" valign="top">_Check_return_ int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_console_i_o_8c.html#a8a735c95bbd9568e4762637f74e768c9">ConsoleIO_KeyboardHit</a> ()</td></tr>
<tr class="memdesc:a8a735c95bbd9568e4762637f74e768c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the console for keyboard input.  <a href="#a8a735c95bbd9568e4762637f74e768c9">More...</a><br /></td></tr>
<tr class="separator:a8a735c95bbd9568e4762637f74e768c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8ea9c080e5907b960af5bd510322e57"><td class="memItemLeft" align="right" valign="top">_Check_return_ wchar_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_console_i_o_8c.html#aa8ea9c080e5907b960af5bd510322e57">ConsoleIO_ReadWChar</a> ()</td></tr>
<tr class="memdesc:aa8ea9c080e5907b960af5bd510322e57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a wide character from the console without echo.  <a href="#aa8ea9c080e5907b960af5bd510322e57">More...</a><br /></td></tr>
<tr class="separator:aa8ea9c080e5907b960af5bd510322e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c6aacdaa2f05aedd744c1a446cdf5d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_console_i_o_8c.html#a5c6aacdaa2f05aedd744c1a446cdf5d9">ConsoleIO_SetInteractiveMode</a> ()</td></tr>
<tr class="memdesc:a5c6aacdaa2f05aedd744c1a446cdf5d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the console configuration to interactive mode.  <a href="#a5c6aacdaa2f05aedd744c1a446cdf5d9">More...</a><br /></td></tr>
<tr class="separator:a5c6aacdaa2f05aedd744c1a446cdf5d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecbedfe52980bcf755e626627e76ec76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_console_i_o_8c.html#aecbedfe52980bcf755e626627e76ec76">ConsoleIO_UnInitConsole</a> ()</td></tr>
<tr class="memdesc:aecbedfe52980bcf755e626627e76ec76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset settings to initial values.  <a href="#aecbedfe52980bcf755e626627e76ec76">More...</a><br /></td></tr>
<tr class="separator:aecbedfe52980bcf755e626627e76ec76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa45232d9128f7ed6b7409ca3faddb6c2"><td class="memItemLeft" align="right" valign="top">_Check_return_ unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_console_i_o_8c.html#aa45232d9128f7ed6b7409ca3faddb6c2">ConsoleIO_WritePlatformV</a> (_In_ <a class="el" href="_globals_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a> PfNewLine, _In_z_ const wchar_t *PwszFormat, _In_ va_list PargList)</td></tr>
<tr class="memdesc:aa45232d9128f7ed6b7409ca3faddb6c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints formatted output.  <a href="#aa45232d9128f7ed6b7409ca3faddb6c2">More...</a><br /></td></tr>
<tr class="separator:aa45232d9128f7ed6b7409ca3faddb6c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a92114c20c54c1b54f431aa2d7d79c0e8"><td class="memItemLeft" align="right" valign="top">struct termios&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_console_i_o_8c.html#a92114c20c54c1b54f431aa2d7d79c0e8">g_initial_settings</a></td></tr>
<tr class="separator:a92114c20c54c1b54f431aa2d7d79c0e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad61bd36ab0927535b1166208ac850d90"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_console_i_o_8c.html#ad61bd36ab0927535b1166208ac850d90">g_nKeyboardInitialized</a> = 0</td></tr>
<tr class="separator:ad61bd36ab0927535b1166208ac850d90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a305c927676a46c9496f2b5b55215c0bf"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_console_i_o_8c.html#a305c927676a46c9496f2b5b55215c0bf">g_unPageBreakCount</a> = 0</td></tr>
<tr class="separator:a305c927676a46c9496f2b5b55215c0bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d6aae8c58a2749b112bc4d89c5a5b8f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_console_i_o_8c.html#a1d6aae8c58a2749b112bc4d89c5a5b8f">g_unPageBreakMax</a> = 25</td></tr>
<tr class="separator:a1d6aae8c58a2749b112bc4d89c5a5b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implements the ConsoleIO interface for Linux. </p>
<p>All ConsoleIO functions which are platform specific</p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2014 - 2017 Infineon Technologies AG ( www.infineon.com )</dd>
<dd>
All rights reserved.</dd></dl>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p><ol type="1">
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
<li>Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </li>
</ol>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a71acea99f19b79e47c04a5edc9394851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71acea99f19b79e47c04a5edc9394851">&#9670;&nbsp;</a></span>ConsoleIO_ClearScreen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_Check_return_ unsigned int ConsoleIO_ClearScreen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the screen. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RC_SUCCESS</td><td>The operation completed successfully. </td></tr>
    <tr><td class="paramname">RC_E_FAIL</td><td>An unexpected error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab88a36496dc233b80e07f7da6877e1b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab88a36496dc233b80e07f7da6877e1b3">&#9670;&nbsp;</a></span>ConsoleIO_InitConsole()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConsoleIO_InitConsole </td>
          <td>(</td>
          <td class="paramtype">_In_ unsigned int&#160;</td>
          <td class="paramname"><em>PunMode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the screen buffer dimensions. </p>
<p>Sets the screen dimensions depending on the given mode</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">PunMode</td><td>Screen resolution: 0 means standard buffer 1 (CONSOLE_BUFFER_BIG) means big screen buffer with more columns and lines -1 (CONSOLE_BUFFER_NONE) means unchanged console buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>No return value </dd></dl>

</div>
</div>
<a id="a8a735c95bbd9568e4762637f74e768c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a735c95bbd9568e4762637f74e768c9">&#9670;&nbsp;</a></span>ConsoleIO_KeyboardHit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_Check_return_ int ConsoleIO_KeyboardHit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the console for keyboard input. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns a nonzero value if a key has been pressed. Otherwise, it returns 0. </dd></dl>

</div>
</div>
<a id="aa8ea9c080e5907b960af5bd510322e57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8ea9c080e5907b960af5bd510322e57">&#9670;&nbsp;</a></span>ConsoleIO_ReadWChar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_Check_return_ wchar_t ConsoleIO_ReadWChar </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a wide character from the console without echo. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the wide character read. There is no error return. </dd></dl>

</div>
</div>
<a id="a5c6aacdaa2f05aedd744c1a446cdf5d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c6aacdaa2f05aedd744c1a446cdf5d9">&#9670;&nbsp;</a></span>ConsoleIO_SetInteractiveMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConsoleIO_SetInteractiveMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the console configuration to interactive mode. </p>
<p>In interactive mode any keys pressed shall not be displayed on the console. </p>

</div>
</div>
<a id="aecbedfe52980bcf755e626627e76ec76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecbedfe52980bcf755e626627e76ec76">&#9670;&nbsp;</a></span>ConsoleIO_UnInitConsole()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConsoleIO_UnInitConsole </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset settings to initial values. </p>
<p>The function resets the initial values changed for the tool. </p>

</div>
</div>
<a id="aa45232d9128f7ed6b7409ca3faddb6c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa45232d9128f7ed6b7409ca3faddb6c2">&#9670;&nbsp;</a></span>ConsoleIO_WritePlatformV()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_Check_return_ unsigned int ConsoleIO_WritePlatformV </td>
          <td>(</td>
          <td class="paramtype">_In_ <a class="el" href="_globals_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>&#160;</td>
          <td class="paramname"><em>PfNewLine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_In_z_ const wchar_t *&#160;</td>
          <td class="paramname"><em>PwszFormat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_In_ va_list&#160;</td>
          <td class="paramname"><em>PargList</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints formatted output. </p>
<p>Prints formatted output to the standard output stream. No page break handling.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">PfNewLine</td><td>Set a new line if TRUE. </td></tr>
    <tr><td class="paramname">PwszFormat</td><td>Format control. </td></tr>
    <tr><td class="paramname">PargList</td><td>Optional argument list. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RC_SUCCESS</td><td>The operation completed successfully. </td></tr>
    <tr><td class="paramname">RC_E_BAD_PARAMETER</td><td>An invalid parameter was passed to the function. </td></tr>
    <tr><td class="paramname">RC_E_BUFFER_TOO_SMALL</td><td>In case of insufficient buffer </td></tr>
    <tr><td class="paramname">RC_E_FAIL</td><td>An unexpected error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a92114c20c54c1b54f431aa2d7d79c0e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92114c20c54c1b54f431aa2d7d79c0e8">&#9670;&nbsp;</a></span>g_initial_settings</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct termios g_initial_settings</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad61bd36ab0927535b1166208ac850d90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad61bd36ab0927535b1166208ac850d90">&#9670;&nbsp;</a></span>g_nKeyboardInitialized</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int g_nKeyboardInitialized = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a305c927676a46c9496f2b5b55215c0bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a305c927676a46c9496f2b5b55215c0bf">&#9670;&nbsp;</a></span>g_unPageBreakCount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int g_unPageBreakCount = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1d6aae8c58a2749b112bc4d89c5a5b8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d6aae8c58a2749b112bc4d89c5a5b8f">&#9670;&nbsp;</a></span>g_unPageBreakMax</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int g_unPageBreakMax = 25</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<hr class="footer"/>
<p style="float: left; padding-left:0.2em"><font color="#E20036"><b>Restricted</b></font></p>
<p style="float: right;">Copyright © 2017 Infineon Technologies AG ( www.infineon.com ). All Rights Reserved.<br>&nbsp;</p>
</body>
</html>
